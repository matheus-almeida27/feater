import{u as ze,d as Te,e as $e,m as De,f as Me,M as je,a as ve,I as Le,V as Ge}from"./C3fyQtzT.js";import{a as ge,g as ke,u as Ve,h as oe,i as se,f as Ce,j as we,k as Ie,l as Se,c as He,d as Ee,V as be,b as Oe}from"./r3v9-sK7.js";import{U as ce,V as fe,a7 as ye,a8 as Pe,a9 as qe,aa as Qe,z as a,a6 as G,ab as Xe,ac as Ye,a0 as de,ad as Je,r as f,j as R,t as ie,v as F,A as v,K as j,P as N,L as V,B as L,y as Ue,a2 as pe,ae as Re,af as he,a4 as q,ag as Be,Q as E,$ as ne,ah as Fe,ai as Ke,aj as We,o as Ae,e as Ze,ak as _e,al as et,am as tt,an as at,_ as lt,H as nt,N as ot,x as st,S as it,O as Z,n as rt}from"./BCok099G.js";import{u as me,m as ut}from"./BBJfbqJ_.js";import{u as dt,m as ct,V as Q}from"./D8fyvIRj.js";import{m as ft}from"./D_iSKJEx.js";import{V as _}from"./6zysYG53.js";import{v as mt}from"./896BTqng.js";import{V as vt}from"./Nwmb7aEf.js";import{c as gt,V as xe}from"./CYKQ3gKf.js";const bt=fe({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ye,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...ut(),...ct({location:"top end"}),...Me(),...ft(),...Xe(),...De({transition:"scale-rotate-transition"})},"VBadge"),yt=ce()({name:"VBadge",inheritAttrs:!1,props:bt(),setup(e,C){const{backgroundColorClasses:S,backgroundColorStyles:g}=ze(ye(e,"color")),{roundedClasses:i}=Te(e),{t:r}=Pe(),{textColorClasses:l,textColorStyles:x}=$e(ye(e,"textColor")),{themeClasses:P}=qe(),{locationStyles:U}=dt(e,!0,m=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(m)?Number(e.offsetY??0):["left","right"].includes(m)?Number(e.offsetX??0):0));return me(()=>{const m=Number(e.content),I=!e.max||isNaN(m)?e.content:m<=Number(e.max)?m:`${e.max}+`,[b,y]=Qe(C.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,G({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},y,{style:e.style}),{default:()=>{var w,h;return[a("div",{class:"v-badge__wrapper"},[(h=(w=C.slots).default)==null?void 0:h.call(w),a(je,{transition:e.transition},{default:()=>{var d,s;return[de(a("span",G({class:["v-badge__badge",P.value,S.value,i.value,l.value],style:[g.value,x.value,e.inline?{}:U.value],"aria-atomic":"true","aria-label":r(e.label,m),"aria-live":"polite",role:"status"},b),[e.dot?void 0:C.slots.badge?(s=(d=C.slots).badge)==null?void 0:s.call(d):e.icon?a(_,{icon:e.icon},null):I]),[[Je,e.modelValue]])]}})])]}})}),{}}}),ht={key:0,class:"text-truncate d-flex justify-center"},xt={__name:"AddressInput",props:{location:{type:Object,default:()=>({})},blocked:{default:!1}},emits:["updateLocation"],setup(e,{emit:C}){var y,w,h;const S=C,g=e,i=f(!1),r=f(((y=g.location)==null?void 0:y.address)||""),l=f(""),x=f(((w=g.location)==null?void 0:w.latitude)||""),P=f(((h=g.location)==null?void 0:h.longitude)||""),U=R(()=>{var d,s;return(d=g.location)!=null&&d.address?`${(s=g.location)==null?void 0:s.address}`:r.value?`${r.value.city}, ${r.value.state}, ${r.value.country}`:""}),m=()=>{i.value=!0,navigator.geolocation?navigator.geolocation.getCurrentPosition(async d=>{x.value=d.coords.latitude.toFixed(6),P.value=d.coords.longitude.toFixed(6),l.value="",await I()},d=>{console.error(d),r.value="",l.value="Não foi possível obter a localização.",i.value=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(l.value="A API de Geolocalização não é suportada pelo seu navegador.",b())};async function I(){if(x.value&&P.value)try{const d=`https://nominatim.openstreetmap.org/reverse?lat=${x.value}&lon=${P.value}&format=json`,p=await(await fetch(d,{headers:{"User-Agent":"FeaterApp/1.0 (matheus.fdealmeida@hotmail.com)"}})).json();p&&p.address?(r.value={city:p.address.city||p.address.town||p.address.village||"Desconhecida",state:p.address.state||"Desconhecido",country:p.address.country||"Desconhecido"},S("updateLocation",{latitude:x.value,longitude:P.value,address:U.value}),l.value=""):(l.value="Endereço não encontrado",b())}catch{l.value="Erro ao obter o endereço",b()}else l.value="Por favor, insira a latitude e longitude",b();i.value=!1}const b=()=>{r.value="",x.value="",P.value="",i.value=!1,S("updateLocation",{latitude:"",longitude:"",address:""})};return(d,s)=>(F(),ie("div",null,[a(ve,null,{default:v(()=>[V(r)?N("",!0):(F(),j(ge,{key:0,cols:"12",class:"ma-0 pa-0 w-100 d-flex justify-center"},{default:v(()=>[a(yt,{color:"warning",class:"w-100","offset-x":"8"},{default:v(()=>[a(Q,{loading:V(i),onClick:m,block:"",rounded:"xl",class:"w-100",color:"purple-darken-3"},{default:v(()=>[a(_,{class:"mr-2"},{default:v(()=>s[0]||(s[0]=[L(" mdi-map-marker ")])),_:1}),s[1]||(s[1]=L(" OBTER LOCALIZAÇÃO"))]),_:1},8,["loading"])]),_:1})]),_:1}))]),_:1}),a(ve,{"hide-on-leave":""},{default:v(()=>[V(r)?(F(),j(ge,{key:0,cols:"12",class:"ma-0 pa-0"},{default:v(()=>[g.blocked?(F(),ie("span",ht,Ue(V(U)),1)):N("",!0),g.blocked?N("",!0):(F(),j(ke,{key:1,variant:g.blocked?"plain":"solo",disabled:"",class:"mb-3",rounded:"xl","hide-details":"",value:V(U),dense:""},null,8,["variant","value"])),g.blocked?N("",!0):(F(),j(Q,{key:2,onClick:b,block:"",rounded:"xl",variant:"tonal",color:"error"},{default:v(()=>[a(_,{class:"mr-2"},{default:v(()=>s[2]||(s[2]=[L(" mdi-map-marker ")])),_:1}),s[3]||(s[3]=L(" remover localização"))]),_:1}))]),_:1})):N("",!0)]),_:1})]))}},kt=fe({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Ie({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Re(e).every(C=>C!=null&&typeof C=="object")},...we({clearable:!0})},"VFileInput"),Vt=ce()({name:"VFileInput",inheritAttrs:!1,props:kt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:S,emit:g,slots:i}=C;const{t:r}=Pe(),l=pe(e,"modelValue",e.modelValue,t=>Re(t),t=>!e.multiple&&Array.isArray(t)?t[0]:t),{isFocused:x,focus:P,blur:U}=Ve(e),m=R(()=>typeof e.showSize!="boolean"?e.showSize:void 0),I=R(()=>(l.value??[]).reduce((t,o)=>{let{size:c=0}=o;return t+c},0)),b=R(()=>he(I.value,m.value)),y=R(()=>(l.value??[]).map(t=>{const{name:o="",size:c=0}=t;return e.showSize?`${o} (${he(c,m.value)})`:o})),w=R(()=>{var o;const t=((o=l.value)==null?void 0:o.length)??0;return e.showSize?r(e.counterSizeString,t,b.value):r(e.counterString,t)}),h=f(),d=f(),s=f(),p=R(()=>x.value||e.active),O=R(()=>["plain","underlined"].includes(e.variant));function H(){var t;s.value!==document.activeElement&&((t=s.value)==null||t.focus()),x.value||P()}function X(t){var o;(o=s.value)==null||o.click()}function A(t){g("mousedown:control",t)}function z(t){var o;(o=s.value)==null||o.click(),g("click:control",t)}function $(t){t.stopPropagation(),H(),ne(()=>{l.value=[],Fe(e["onClick:clear"],t)})}function k(t){t.preventDefault()}function n(t){t.preventDefault(),t.dataTransfer&&(l.value=[...t.dataTransfer.files??[]])}return q(l,t=>{(!Array.isArray(t)||!t.length)&&s.value&&(s.value.value="")}),me(()=>{const t=!!(i.counter||e.counter),o=!!(t||i.details),[c,u]=Be(S),{modelValue:Y,...J}=oe.filterProps(e),K=se.filterProps(e);return a(oe,G({ref:h,modelValue:e.multiple?l.value:l.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":O.value},e.class],style:e.style,"onClick:prepend":X},c,J,{centerAffix:!O.value,focused:x.value}),{...i,default:B=>{let{id:T,isDisabled:D,isDirty:W,isReadonly:ee,isValid:re}=B;return a(se,G({ref:d,"prepend-icon":e.prependIcon,onMousedown:A,onClick:z,"onClick:clear":$,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},K,{id:T.value,active:p.value||W.value,dirty:W.value||e.dirty,disabled:D.value,focused:x.value,error:re.value===!1,onDragover:k,onDrop:n}),{...i,default:ue=>{var le;let{props:{class:te,...ae}}=ue;return a(E,null,[a("input",G({ref:s,type:"file",readonly:ee.value,disabled:D.value,multiple:e.multiple,name:e.name,onClick:M=>{M.stopPropagation(),ee.value&&M.preventDefault(),H()},onChange:M=>{if(!M.target)return;const Ne=M.target;l.value=[...Ne.files??[]]},onFocus:H,onBlur:U},ae,u),null),a("div",{class:te},[!!((le=l.value)!=null&&le.length)&&!e.hideInput&&(i.selection?i.selection({fileNames:y.value,totalBytes:I.value,totalBytesReadable:b.value}):e.chips?y.value.map(M=>a(gt,{key:M,size:"small",text:M},null)):y.value.join(", "))])])}})},details:o?B=>{var T,D;return a(E,null,[(T=i.details)==null?void 0:T.call(i,B),t&&a(E,null,[a("span",null,null),a(Se,{active:!!((D=l.value)!=null&&D.length),value:w.value,disabled:e.disabled},i.counter)])])}:void 0})}),Ce({},h,d,s)}}),Ct=fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ie(),...we()},"VTextarea"),wt=ce()({name:"VTextarea",directives:{Intersect:Le},inheritAttrs:!1,props:Ct(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,C){let{attrs:S,emit:g,slots:i}=C;const r=pe(e,"modelValue"),{isFocused:l,focus:x,blur:P}=Ve(e),U=R(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),m=R(()=>{if(S.maxlength)return S.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function I(t,o){var c,u;!e.autofocus||!t||(u=(c=o[0].target)==null?void 0:c.focus)==null||u.call(c)}const b=f(),y=f(),w=Ke(""),h=f(),d=R(()=>e.persistentPlaceholder||l.value||e.active);function s(){var t;h.value!==document.activeElement&&((t=h.value)==null||t.focus()),l.value||x()}function p(t){s(),g("click:control",t)}function O(t){g("mousedown:control",t)}function H(t){t.stopPropagation(),s(),ne(()=>{r.value="",Fe(e["onClick:clear"],t)})}function X(t){var c;const o=t.target;if(r.value=o.value,(c=e.modelModifiers)!=null&&c.trim){const u=[o.selectionStart,o.selectionEnd];ne(()=>{o.selectionStart=u[0],o.selectionEnd=u[1]})}}const A=f(),z=f(Number(e.rows)),$=R(()=>["plain","underlined"].includes(e.variant));We(()=>{e.autoGrow||(z.value=Number(e.rows))});function k(){e.autoGrow&&ne(()=>{if(!A.value||!y.value)return;const t=getComputedStyle(A.value),o=getComputedStyle(y.value.$el),c=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),u=A.value.scrollHeight,Y=parseFloat(t.lineHeight),J=Math.max(parseFloat(e.rows)*Y+c,parseFloat(o.getPropertyValue("--v-input-control-height"))),K=parseFloat(e.maxRows)*Y+c||1/0,B=et(u??0,J,K);z.value=Math.floor((B-c)/Y),w.value=_e(B)})}Ae(k),q(r,k),q(()=>e.rows,k),q(()=>e.maxRows,k),q(()=>e.density,k);let n;return q(A,t=>{t?(n=new ResizeObserver(k),n.observe(A.value)):n==null||n.disconnect()}),Ze(()=>{n==null||n.disconnect()}),me(()=>{const t=!!(i.counter||e.counter||e.counterValue),o=!!(t||i.details),[c,u]=Be(S),{modelValue:Y,...J}=oe.filterProps(e),K=se.filterProps(e);return a(oe,G({ref:b,modelValue:r.value,"onUpdate:modelValue":B=>r.value=B,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":$.value},e.class],style:e.style},c,J,{centerAffix:z.value===1&&!$.value,focused:l.value}),{...i,default:B=>{let{id:T,isDisabled:D,isDirty:W,isReadonly:ee,isValid:re}=B;return a(se,G({ref:y,style:{"--v-textarea-control-height":w.value},onClick:p,onMousedown:O,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},K,{id:T.value,active:d.value||W.value,centerAffix:z.value===1&&!$.value,dirty:W.value||e.dirty,disabled:D.value,focused:l.value,error:re.value===!1}),{...i,default:ue=>{let{props:{class:te,...ae}}=ue;return a(E,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[e.prefix]),de(a("textarea",G({ref:h,class:te,value:r.value,onInput:X,autofocus:e.autofocus,readonly:ee.value,disabled:D.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:s,onBlur:P},ae,u),null),[[tt("intersect"),{handler:I},null,{once:!0}]]),e.autoGrow&&de(a("textarea",{class:[te,"v-textarea__sizer"],id:`${ae.id}-sizer`,"onUpdate:modelValue":le=>r.value=le,ref:A,readonly:!0,"aria-hidden":"true"},null),[[at,r.value]]),e.suffix&&a("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?B=>{var T;return a(E,null,[(T=i.details)==null?void 0:T.call(i,B),t&&a(E,null,[a("span",null,null),a(Se,{active:e.persistentCounter||l.value,value:U.value,max:m.value,disabled:e.disabled},i.counter)])])}:void 0})}),Ce({},b,y,h)}}),It={key:0,class:"text-truncate"},St={__name:"ProfileCard",props:{matchedUser:{type:Object,required:!1}},emits:["close"],setup(e,{emit:C}){var z,$;const S=e,g=C,i=nt(),r=ot(),l=S.matchedUser||i.user,x=((z=S.matchedUser)==null?void 0:z.id)||(($=i.user)==null?void 0:$.id),P=f(),U=f({id:x}),m=f(),I=f(""),b=f((l==null?void 0:l.name)||"Future Hendrix"),y=f((l==null?void 0:l.bio)||"Bora fazer um som?"),w=f((l==null?void 0:l.favoriteRoles)||[{id:3,name:"Produtor(a) Musical"},{id:6,name:"DJ"}]),h=f((l==null?void 0:l.favoriteGenres)||[{id:3,name:"Hip Hop"},{id:4,name:"R&B"},{id:19,name:"Trap"}]),d=f((l==null?void 0:l.location)||{}),s=R(()=>I.value||l.profileImage||"https://media.gq.com/photos/6255cb439aa7a6f3a12583da/master/w_1600%2Cc_limit/GQ0522_Future_11.jpg");Ae(()=>{});const p=k=>{const n=k.target.files[0];if(!n){I.value="";return}O(n)},O=async k=>{const n=new FileReader;n.onload=t=>{I.value=t.target.result},n.readAsDataURL(k)},H=k=>{d.value=k};function X(){g("close")}function A(){if(U.value={id:x,location:d.value,name:b.value,bio:y.value,profileImage:s.value,favoriteRoles:w.value,favoriteGenres:h.value},!mt(U.value)){alert("Preencha todos os campos");return}r.updateUser(U.value),alert("Perfil salvo com sucesso!"),rt("/home")}return(k,n)=>{const t=xt;return F(),ie(E,null,[e.matchedUser?N("",!0):(F(),j(Q,{key:0,color:"deep-purple-darken-1",onClick:A,variant:"tonal",class:"save-btn text-white",rounded:"xl"},{default:v(()=>[a(_,{class:"mr-2",color:"#fff"},{default:v(()=>n[8]||(n[8]=[L("mdi-check")])),_:1}),n[9]||(n[9]=st("span",{class:"text-white"}," Salvar ",-1))]),_:1})),a(Oe,{class:"w-100 rounded-xl"},{default:v(()=>[a(He,{class:"pt-3 pl-5 font-weight-light text-h4 mb-2 d-flex align-center"},{default:v(()=>{var o;return[e.matchedUser?(F(),ie("span",It,Ue(((o=e.matchedUser.name)==null?void 0:o.split(" ")[0])||"Perfil"),1)):N("",!0),a(vt),e.matchedUser?(F(),j(Q,{key:1,onClick:n[0]||(n[0]=c=>X()),icon:"",rounded:"xl",class:"border",size:"small",variant:"elevated",color:"surface"},{default:v(()=>[a(_,{class:""},{default:v(()=>n[10]||(n[10]=[L(" mdi-chevron-down ")])),_:1})]),_:1})):N("",!0)]}),_:1}),a(Ee,{class:"pb-5 px-0"},{default:v(()=>{var o,c;return[a(be,{"no-gutters":"",class:"mb-4"},{default:v(()=>[a(Ge,{src:V(s),contain:"",transition:"slide-y-reverse-transition",rounded:"xl","max-height":"400","min-height":"200"},null,8,["src"])]),_:1}),e.matchedUser?N("",!0):(F(),j(be,{key:0,"no-gutters":"",class:"mb-4 justify-center"},{default:v(()=>[V(m)?N("",!0):(F(),j(Q,{key:0,onClick:n[1]||(n[1]=u=>k.$refs.fileInputRef.click()),block:"",variant:"tonal",rounded:"xl",color:"purple-darken-3"},{default:v(()=>n[11]||(n[11]=[L(" Alterar foto ")])),_:1})),a(Q,{onClick:n[2]||(n[2]=()=>{m.value=null,I.value=null}),variant:"tonal",class:it({"d-none":!V(m)}),rounded:"xl",color:"error",block:""},{default:v(()=>n[12]||(n[12]=[L("Remover foto")])),_:1},8,["class"]),a(Vt,{readonly:!!e.matchedUser,class:"d-none",ref_key:"fileInputRef",ref:P,"hide-details":"",variant:"solo",flat:"",onChange:p,density:"compact",clearable:!1,modelValue:V(m),"onUpdate:modelValue":n[3]||(n[3]=u=>Z(m)?m.value=u:null),accept:"image/*","prepend-icon":""},null,8,["readonly","modelValue"])]),_:1})),a(ke,{modelValue:V(b),"onUpdate:modelValue":n[4]||(n[4]=u=>Z(b)?b.value=u:null),readonly:!!e.matchedUser,variant:"solo",label:e.matchedUser?"":"Nome",rounded:"xl",class:"mb-3","hide-details":"",outlined:"",dense:""},null,8,["modelValue","readonly","label"]),a(wt,{label:e.matchedUser?"":"Biografia",rounded:"xl",modelValue:V(y),"onUpdate:modelValue":n[5]||(n[5]=u=>Z(y)?y.value=u:null),rules:[u=>u.length<=200||"Máximo: 200 caracteres"],"auto-grow":"",readonly:!!e.matchedUser,variant:"solo",rows:"3",outlined:""},null,8,["label","modelValue","rules","readonly"]),a(xe,{modelValue:V(w),"onUpdate:modelValue":n[6]||(n[6]=u=>Z(w)?w.value=u:null),items:(o=V(r))==null?void 0:o.roles,label:e.matchedUser?"":"Ramos Artísticos",multiple:"",clearable:!e.matchedUser,rounded:"xl","menu-icon":e.matchedUser?"":"$dropdown ",readonly:!!e.matchedUser,"return-object":"","item-title":"name","closable-chips":!e.matchedUser,variant:"solo",chips:"",outlined:"",dense:""},null,8,["modelValue","items","label","clearable","menu-icon","readonly","closable-chips"]),a(xe,{modelValue:V(h),"onUpdate:modelValue":n[7]||(n[7]=u=>Z(h)?h.value=u:null),items:(c=V(r))==null?void 0:c.genres,label:e.matchedUser?"":"Gêneros Musicais",multiple:"",clearable:!e.matchedUser,rounded:"xl","menu-icon":e.matchedUser?"":"$dropdown ",readonly:!!e.matchedUser,"return-object":"","item-title":"name","closable-chips":!e.matchedUser,variant:"solo",chips:"",outlined:"",dense:""},null,8,["modelValue","items","label","clearable","menu-icon","readonly","closable-chips"]),a(t,{onUpdateLocation:H,location:V(d),blocked:!!e.matchedUser},null,8,["location","blocked"])]}),_:1})]),_:1})],64)}}},$t=lt(St,[["__scopeId","data-v-a2f6cf8b"]]);export{$t as _};
