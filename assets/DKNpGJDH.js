import{d as D,H as M,j as A,t as o,v as a,x as l,z as c,I as _,y as S,J as j,K as N,L as C,A as r,M as L,B as E,_ as R,N as O,r as V,O as F}from"./oxrFzijP.js";import{V as T,a as G}from"./CwWB1UhD.js";import{V as H,a as J}from"./CaN3RJhC.js";import{V as K}from"./B0fb_SQy.js";import{V as P,a as Q,b as U}from"./BYInkhI_.js";import"./DkLBiSCX.js";const W={class:"inner-card"},Y={class:"card-content"},Z=["src"],ee={class:"card-name"},te={class:"card-address"},se={class:"card-genres"},ae={key:0,class:"card-bio"},ne=D({__name:"InnerCardStack",props:{card:{type:Object,required:!0},showBio:{type:Boolean,default:!1}},setup(n){M();const p=n,v=A(()=>p.card.favoriteGenres||[]);return(h,d)=>(a(),o("div",W,[l("div",Y,[n.card.profileImage?(a(),o("img",{key:0,draggable:"false",src:n.card.profileImage,alt:"Imagem",class:"card-img"},null,8,Z)):_("",!0),l("p",ee,S(n.card.name),1),l("p",te,S(n.card.location.address),1),l("div",se,[(a(!0),o(j,null,N(C(v),(y,i)=>(a(),o("span",{key:i,class:"genre-tag mb-2"},S(y.nome),1))),128))])]),c(T,null,{default:r(()=>[n.showBio?_("",!0):(a(),L(H,{key:0,size:"20"},{default:r(()=>d[0]||(d[0]=[E("mdi-chevron-down")])),_:1}))]),_:1}),c(T,null,{default:r(()=>[n.showBio?(a(),o("div",ae,[l("p",null,S(n.card.bio),1)])):_("",!0)]),_:1})]))}}),oe=R(ne,[["__scopeId","data-v-1270ebdb"]]),re={class:"card-stack w-100"},ce={key:0,class:"text-center justify-center align-center d-flex"},ie=["onMousedown","onTouchstart"],le={__name:"SwiperStack",emits:["swipe"],setup(n,{emit:p}){const v=p,h=M(),d=O(),y=V(h.users),i=V(!1),u=V([...y.value.filter(e=>e.id!==d.user.id)]);let m=0,f=0,g=!1,s=null;const X=V(),z=()=>{i.value=!i.value};function I(e,t){t===0&&(s=document.querySelector("#innerCardRef"),g=!0,m=e.type.includes("touch")?e.touches[0].clientX:e.clientX,f=m,document.addEventListener("mousemove",k),document.addEventListener("touchmove",k),document.addEventListener("mouseup",w),document.addEventListener("touchend",w))}function k(e){if(!g)return;f=e.type.includes("touch")?e.touches[0].clientX:e.clientX;const t=f-m;s.style.transform=`translateX(${t}px) rotate(${t/10}deg)`,s.style.opacity=1-Math.abs(t)/300}function w(){if(!g)return;g=!1;const e=f-m;if(Math.abs(e)>20&&f!=m)if(Math.abs(e)>100){const t=e>0?"→":"←";i.value=!1;const B=u.value[0];X.value={direction:t,card:B},v("swipe",X.value),s.style.transition="transform 0.3s, opacity 0.3s",s.style.transform=`translateX(${e>0?500:-500}px)`,s.style.opacity=0,setTimeout(()=>{u.value.shift(),i.value=!1},200)}else s.style.transition="transform 0.3s, opacity 0.3s",s.style.transform="translateX(0)",s.style.opacity=1;else s.style.transition="transform 0.3s, opacity 0.3s",s.style.transform="translateX(0)",s.style.opacity=1;document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k),document.removeEventListener("mouseup",w),document.removeEventListener("touchend",w)}function q(){u.value=[...y.value.filter(e=>e.id!==d.user.id)]}return(e,t)=>{const B=oe;return a(),o("div",re,[c(G,{"hide-on-leave":""},{default:r(()=>[C(u).length?_("",!0):(a(),o("div",ce,[c(J,{class:"ma-2",size:"120",variant:"tonal",icon:"",color:"purple-darken-4",onClick:t[0]||(t[0]=$=>q())},{default:r(()=>t[2]||(t[2]=[E("Resetar "),l("br",null,null,-1),E("Stack")])),_:1})]))]),_:1}),(a(!0),o(j,null,N(C(u),($,b)=>(a(),o("div",{class:F(["card",{"card-active":b===0}]),key:$.id,onMousedown:x=>I(x,b),onTouchstart:x=>I(x,b)},[c(K,null,{default:r(()=>[b===0?(a(),L(B,{key:0,id:"innerCardRef",onClick:t[1]||(t[1]=x=>z()),card:$,"show-bio":C(i)},null,8,["card","show-bio"])):_("",!0)]),_:2},1024)],42,ie))),128))])}}},de=R(le,[["__scopeId","data-v-eeb38b04"]]),he=D({__name:"home",setup(n){return(p,v)=>{const h=de;return a(),L(U,{fluid:"",class:"fill-height"},{default:r(()=>[c(P,{align:"center",justify:"center",class:"fill-height"},{default:r(()=>[c(Q,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3",class:"fill-height justify-center align-center d-flex"},{default:r(()=>[c(h)]),_:1})]),_:1})]),_:1})}}});export{he as default};
