import{d as C,H as S,V as M,I as L,u as N,r as b,j as B,K as c,A as n,v as o,t as l,L as _,U as $,Y as z,z as u,x as d,X as A,y as g,_ as j}from"./D5DpnNe1.js";import{V as U,a as w}from"./mqneSuBx.js";import{V as D,a as E}from"./CoE8HNIy.js";import{V as F}from"./Cx40gdtv.js";import{V as H}from"./CkD6bMj-.js";import"./DhCX-Uyt.js";import"./B1A36xI8.js";import"./CoZHROhu.js";const K={key:0,class:"no-matches"},P={class:"match-name"},R={key:0},T={class:"match-last-msg"},X=C({__name:"index",setup(Y){const r=S(),V=M(),v=L(),x=N(),k=b(v.chats),p=B(()=>{var e;const s=(e=r.user)==null?void 0:e.id;return k.value.filter(t=>t.participants.includes(s||0))});function m(s){var a;const e=(a=r.user)==null?void 0:a.id,t=s.participants.find(i=>i!==e);return V.users.find(i=>i.id===t)}function I(s){const e=m(s);return(e==null?void 0:e.profileImage)||""}function f(s){const e=m(s);return(e==null?void 0:e.name)||"Usuário"}const h=s=>{var a;let e=s.messages[s.messages.length-1],t=e?e.sender===((a=r.user)==null?void 0:a.id)?`Você: ${e.text}`:e.text:"";return t=t.length>30?`${t.substring(0,30)}...`:t,t};function y(s){x.push(`/messages/${s.id}`)}return(s,e)=>(o(),c(U,{fluid:"",class:"d-flex flex-column align-center pt-4 justify-center pb-14 fill-height"},{default:n(()=>[_(p).length===0?(o(),l("div",K," Nenhum feat encontrado ainda :( ")):(o(),c(D,{key:1,class:"matches-list pa-4"},{default:n(()=>[(o(!0),l($,null,z(_(p),t=>(o(),c(E,{key:t.id,onClick:a=>y(t),class:"match-item py-4 mb-4",rounded:"pill",elevation:"5"},{prepend:n(()=>[u(w,{size:"56",class:"match-avatar"},{default:n(()=>[u(H,{contain:"",src:I(t),alt:f(t)},null,8,["src","alt"])]),_:2},1024)]),title:n(()=>[d("div",null,[d("span",P,g(f(t)),1)]),h(t)!==""?(o(),l("div",R,[d("span",T,g(h(t)),1)])):A("",!0)]),append:n(()=>[u(F,{size:"30",color:"purple",icon:"mdi-chevron-right"})]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}))}}),te=j(X,[["__scopeId","data-v-ab31d436"]]);export{te as default};
