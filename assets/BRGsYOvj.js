import{d as S,u as y,j as M,a as b,D as N,r as B,m as L,g as i,w as n,o,c as l,h as _,F as $,q as j,b as u,k as w,e as d,p as z,t as g,_ as A}from"./C75BwEh1.js";import{V as D,a as F}from"./BeEibhVZ.js";import{V as q,a as E}from"./BEpTXW0F.js";import{V as P}from"./_IDFdliH.js";import"./61Bw-Vqo.js";import"./DWRZsj9s.js";import"./CJLmjtDf.js";const R={key:0,class:"no-matches"},T={class:"match-name"},U={key:0},G={class:"match-last-msg"},H=S({__name:"index",setup(J){const r=y(),V=M(),k=b(),v=N(),x=B(k.chats),p=L(()=>{var e;const s=(e=r.user)==null?void 0:e.id;return x.value.filter(t=>t.participants.includes(s||0))});function m(s){var a;const e=(a=r.user)==null?void 0:a.id,t=s.participants.find(c=>c!==e);return V.users.find(c=>c.id===t)}function C(s){const e=m(s);return(e==null?void 0:e.profileImage)||""}function f(s){const e=m(s);return(e==null?void 0:e.name)||"Usuário"}const h=s=>{var a;let e=s.messages[s.messages.length-1],t=e?e.sender===((a=r.user)==null?void 0:a.id)?`Você: ${e.text}`:e.text:"";return t=t.length>30?`${t.substring(0,30)}...`:t,t};function I(s){v.push(`/messages/${s.id}`)}return(s,e)=>(o(),i(D,{fluid:"",class:"d-flex flex-column align-center pt-4 justify-center pb-14 fill-height"},{default:n(()=>[_(p).length===0?(o(),l("div",R," Nenhum feat encontrado ainda :( ")):(o(),i(q,{key:1,class:"matches-list pa-4"},{default:n(()=>[(o(!0),l($,null,j(_(p),t=>(o(),i(E,{key:t.id,onClick:a=>I(t),class:"match-item py-4 mb-4",rounded:"pill",elevation:"5"},{prepend:n(()=>[u(F,{size:"56",class:"match-avatar"},{default:n(()=>[u(P,{contain:"",src:C(t),alt:f(t)},null,8,["src","alt"])]),_:2},1024)]),title:n(()=>[d("div",null,[d("span",T,g(f(t)),1)]),h(t)!==""?(o(),l("div",U,[d("span",G,g(h(t)),1)])):z("",!0)]),append:n(()=>[u(w,{size:"30",color:"purple",icon:"mdi-chevron-right"})]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}))}}),ee=A(H,[["__scopeId","data-v-ab31d436"]]);export{ee as default};
