import{d as S,u as y,k as M,a as b,G as N,r as B,q as L,g as i,w as n,o,c as l,h as _,F as $,v as w,b as u,m as z,e as d,s as A,t as g,_ as F}from"./3IrZD_pa.js";import{V as j,a as q}from"./CH7B2uz2.js";import{V as D,a as E}from"./NUaZe0XA.js";import{V as G}from"./4ZpjlLR7.js";import"./DOsxrUzH.js";import"./QVnX6Ndp.js";import"./BSdXjkqF.js";const P={key:0,class:"no-matches"},R={class:"match-name"},T={key:0},U={class:"match-last-msg"},H=S({__name:"index",setup(J){const r=y(),V=M(),v=b(),k=N(),x=B(v.chats),p=L(()=>{var e;const s=(e=r.user)==null?void 0:e.id;return x.value.filter(t=>t.participants.includes(s||0))});function m(s){var a;const e=(a=r.user)==null?void 0:a.id,t=s.participants.find(c=>c!==e);return V.users.find(c=>c.id===t)}function C(s){const e=m(s);return(e==null?void 0:e.profileImage)||""}function f(s){const e=m(s);return(e==null?void 0:e.name)||"Usuário"}const h=s=>{var a;let e=s.messages[s.messages.length-1],t=e?e.sender===((a=r.user)==null?void 0:a.id)?`Você: ${e.text}`:e.text:"";return t=t.length>30?`${t.substring(0,30)}...`:t,t};function I(s){k.push(`/messages/${s.id}`)}return(s,e)=>(o(),i(j,{fluid:"",class:"d-flex flex-column align-center pt-4 justify-center pb-14 fill-height"},{default:n(()=>[_(p).length===0?(o(),l("div",P," Nenhum feat encontrado ainda :( ")):(o(),i(D,{key:1,class:"matches-list pa-4"},{default:n(()=>[(o(!0),l($,null,w(_(p),t=>(o(),i(E,{key:t.id,onClick:a=>I(t),class:"match-item py-4 mb-4",rounded:"pill",elevation:"5"},{prepend:n(()=>[u(q,{size:"56",class:"match-avatar"},{default:n(()=>[u(G,{contain:"",src:C(t),alt:f(t)},null,8,["src","alt"])]),_:2},1024)]),title:n(()=>[d("div",null,[d("span",R,g(f(t)),1)]),h(t)!==""?(o(),l("div",T,[d("span",U,g(h(t)),1)])):A("",!0)]),append:n(()=>[u(z,{size:"30",color:"purple",icon:"mdi-chevron-right"})]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}))}}),ee=F(H,[["__scopeId","data-v-ab31d436"]]);export{ee as default};
