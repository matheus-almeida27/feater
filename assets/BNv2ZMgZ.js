import{d as X,H as ce,I as ue,t as I,v as u,z as e,A as a,T as ve,x as y,J as pe,K as j,L as _,y as N,B as L,n as ge,_ as ee,M as _e,N as he,O as ae,r as x,P as ye,j as Y,Q as Ve,R as ke,S as se,U as A,V as te,W as U,X as R,Y as de,Z as xe}from"./CAoxyKBU.js";import{V as me,a as le}from"./oPCrg3Cx.js";import{V as F,u as be,L as Ce,a as we}from"./Cx_EXZ8N.js";import{V as $,a as P,u as Se,b as ne,m as Ie,c as $e,d as je,e as Be}from"./BijDAzGJ.js";import{V as Z,a as De,b as fe,c as oe}from"./nxUrYd7-.js";import{V as Le}from"./CPBAx7g3.js";import{V as G}from"./C3isX3fs.js";import{V as re,m as Me,a as Te,b as Pe}from"./p05QVfWQ.js";import{u as Re}from"./D9oNkgbi.js";import{V as ie}from"./BVkjFXLI.js";import"./D5FPaojG.js";import"./DdAhp2J1.js";import"./BNhaU2CW.js";import"./C3Oz85PJ.js";const Fe={class:"match-dialog"},ze=X({__name:"MatchDialogContent",props:{matchInfo:{type:Object,default:()=>null}},emits:["close"],setup(t,{emit:C}){var o,i,g;const d=ce(),l=ue(),c=t;l.chats.find(f=>{var n;return f.participants.includes(Number(c.matchInfo.id))&&f.participants.includes(Number((n=d==null?void 0:d.user)==null?void 0:n.id))});const v=((o=d.user)==null?void 0:o.profileImage)||"",p=C,V=((g=(i=c.matchInfo)==null?void 0:i.name)==null?void 0:g.split(" ")[0])+" também curtiu você!";function k(){const f=l.chats.find(n=>{var h;return n.participants.includes(Number(c.matchInfo.id))&&n.participants.includes(Number((h=d==null?void 0:d.user)==null?void 0:h.id))});p("close"),ge(`/messages/${f==null?void 0:f.id}`)}return(f,n)=>(u(),I("div",Fe,[e(me,{"fill-height":""},{default:a(()=>[e(F,{variant:"text",rounded:"xl",class:"position-absolute top-0 right-0 mr-3 mt-3",icon:"mdi-close",onClick:n[0]||(n[0]=h=>f.$emit("close"))}),e($,{align:"center",justify:"center"},{default:a(()=>[e(P,{cols:"12",class:"text-center"},{default:a(()=>[e(ve,{name:"fade"},{default:a(()=>n[1]||(n[1]=[y("div",{class:"match-header"},[y("h2",null,"É um feat!")],-1)])),_:1})]),_:1})]),_:1}),e($,{align:"center",justify:"center"},{default:a(()=>[e(P,{cols:"12",md:"6",class:"d-flex justify-center"},{default:a(()=>[e(pe,{name:"slide-fade",mode:"out-in",tag:"div",class:"avatars"},{default:a(()=>[(u(),j(le,{size:"150",class:"mx-2",key:"userPhoto"},{default:a(()=>[e(Z,{contain:"",transition:"slide-x-transition",height:"150",width:"150",src:_(v),alt:"Sua foto"},null,8,["src"])]),_:1})),(u(),j(le,{size:"150",class:"mx-2",key:"matchPhoto"},{default:a(()=>{var h;return[e(Z,{contain:"",transition:"slide-x-reverse-transition",height:"150",width:"150",src:(h=t.matchInfo)==null?void 0:h.profileImage,alt:"Foto do match"},null,8,["src"])]}),_:1}))]),_:1})]),_:1})]),_:1}),e($,{align:"center",justify:"center"},{default:a(()=>[e(P,{cols:"12",class:"text-center"},{default:a(()=>[y("p",{class:"collaboration-text"},N(V)),n[2]||(n[2]=y("p",{class:"collaboration-text"},"Que tal criar uma música juntos?",-1))]),_:1})]),_:1}),e($,{align:"center",justify:"center"},{default:a(()=>[e(P,{cols:"12",class:"text-center"},{default:a(()=>[e(F,{class:"ma-4 border",style:{color:"#fff",background:"#170015"},variant:"elevated",rounded:"xl",size:"x-large",onClick:k},{default:a(()=>n[3]||(n[3]=[L(" Enviar Mensagem ")])),_:1})]),_:1})]),_:1})]),_:1})]))}}),Ee=ee(ze,[["__scopeId","data-v-9303c494"]]),Ne=he({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ie(),...Me()},"VSwitch"),Xe=_e()({name:"VSwitch",inheritAttrs:!1,props:Ne(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,C){let{attrs:d,slots:l}=C;const c=ae(t,"indeterminate"),v=ae(t,"modelValue"),{loaderClasses:p}=be(t),{isFocused:V,focus:k,blur:o}=Se(t),i=x(),g=ye&&window.matchMedia("(forced-colors: active)").matches,f=Y(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),n=Ve(),h=Y(()=>t.id||`switch-${n}`);function O(){c.value&&(c.value=!1)}function q(B){var w,S;B.stopPropagation(),B.preventDefault(),(S=(w=i.value)==null?void 0:w.input)==null||S.click()}return Re(()=>{const[B,w]=ke(d),S=ne.filterProps(t),Q=re.filterProps(t);return e(ne,se({class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":c.value},p.value,t.class]},B,S,{modelValue:v.value,"onUpdate:modelValue":z=>v.value=z,id:h.value,focused:V.value,style:t.style}),{...l,default:z=>{let{id:W,messagesId:H,isDisabled:J,isReadonly:r,isValid:s}=z;const b={model:v,isValid:s};return e(re,se({ref:i},Q,{modelValue:v.value,"onUpdate:modelValue":[D=>v.value=D,O],id:W.value,"aria-describedby":H.value,type:"checkbox","aria-checked":c.value?"mixed":void 0,disabled:J.value,readonly:r.value,onFocus:k,onBlur:o},w),{...l,default:D=>{let{backgroundColorClasses:E,backgroundColorStyles:m}=D;return e("div",{class:["v-switch__track",g?void 0:E.value],style:m.value,onClick:q},[l["track-true"]&&e("div",{key:"prepend",class:"v-switch__track-true"},[l["track-true"](b)]),l["track-false"]&&e("div",{key:"append",class:"v-switch__track-false"},[l["track-false"](b)])])},input:D=>{let{inputNode:E,icon:m,backgroundColorClasses:M,backgroundColorStyles:T}=D;return e(A,null,[E,e("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":m||t.loading},t.inset||g?void 0:M.value],style:t.inset?void 0:T.value},[l.thumb?e(De,{defaults:{VIcon:{icon:m,size:"x-small"}}},{default:()=>[l.thumb({...b,icon:m})]}):e(fe,null,{default:()=>[t.loading?e(Ce,{name:"v-switch",active:!0,color:s.value===!1?void 0:f.value},{default:K=>l.loader?l.loader(K):e(we,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):m&&e(G,{key:String(m),icon:m,size:"x-small"},null)]})])])}})}})}),{}}}),Ae=X({__name:"FiltersDialogContent",emits:["save","close"],setup(t,{emit:C}){const d=C,l=x(!0),c=x([]),v=te(),p=()=>{},V=()=>{d("close")};return(k,o)=>(u(),j(P,{cols:"12",md:"8",lg:"6",xl:"4",class:"d-flex ma-0 pa-0 justify-center align-center"},{default:a(()=>[e($e,{class:"w-100 rounded-xl"},{default:a(()=>[e(je,{class:"pt-3 pl-5 font-weight-light text-h5 mb-2 d-flex align-center"},{default:a(()=>[o[5]||(o[5]=y("span",{class:"text-truncate"}," Filtros ",-1)),e(Le),e(F,{onClick:o[0]||(o[0]=i=>V()),icon:"",rounded:"xl",size:"small",variant:"elevated",color:""},{default:a(()=>[e(G,{size:"30",class:""},{default:a(()=>o[4]||(o[4]=[L(" mdi-close ")])),_:1})]),_:1})]),_:1}),e(Be,{class:"pb-1 px-0 d-flex flex-column justify-center align-center"},{default:a(()=>[e($,{"no-gutters":"",class:"justify-center align-center mb-2"},{default:a(()=>[e(Xe,{modelValue:_(l),"onUpdate:modelValue":o[1]||(o[1]=i=>U(l)?l.value=i:null),"label-class":_(l)?"text-purple":"text-grey",class:"mb-4","hide-details":"",color:"purple-darken-1",label:"Filtrar por usuários mais próximos"},null,8,["modelValue","label-class"])]),_:1}),e($,{"no-gutters":"",class:"w-100 justify-center align-center mb-6 px-6"},{default:a(()=>{var i;return[e(Te,{modelValue:_(c),"onUpdate:modelValue":o[2]||(o[2]=g=>U(c)?c.value=g:null),items:(i=_(v))==null?void 0:i.genres,label:"Gêneros Musicais",multiple:"",rounded:"xl","hide-details":"","return-object":"","item-title":"name",variant:"solo",chips:"",outlined:"",dense:""},null,8,["modelValue","items"])]}),_:1}),e($,{"no-gutters":"",class:"w-100 justify-center align-center mb-4 px-6"},{default:a(()=>[e(F,{onClick:o[3]||(o[3]=i=>p()),block:"",rounded:"xl",variant:"elevated",color:"purple-darken-1"},{default:a(()=>o[6]||(o[6]=[L(" Aplicar ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ue={class:"inner-card"},Ge={class:"card-content"},Oe={class:"card-name"},qe={class:"card-address"},Qe={class:"card-genres"},We={key:0,class:"card-bio"},He=X({__name:"InnerCardStack",props:{card:{type:Object,required:!0},showBio:{type:Boolean,default:!1}},setup(t){te();const C=t,d=Y(()=>C.card.favoriteGenres||[]);return(l,c)=>(u(),I("div",Ue,[y("div",Ge,[t.card.profileImage?(u(),j(Z,{key:0,draggable:"false",cover:"",src:t.card.profileImage,alt:"Imagem",class:"card-img"},null,8,["src"])):R("",!0),y("p",Oe,N(t.card.name),1),y("p",qe,N(t.card.location.address),1),y("div",Qe,[(u(!0),I(A,null,de(_(d),(v,p)=>(u(),I("span",{key:p,class:"genre-tag border mb-2"},N(v.name),1))),128))])]),e(oe,null,{default:a(()=>[t.showBio?R("",!0):(u(),j(G,{key:0,size:"20"},{default:a(()=>c[0]||(c[0]=[L("mdi-chevron-down")])),_:1}))]),_:1}),e(oe,null,{default:a(()=>[t.showBio?(u(),I("div",We,[y("p",null,N(t.card.bio),1)])):R("",!0)]),_:1})]))}}),Je=ee(He,[["__scopeId","data-v-c6d970f7"]]),Ke={class:"card-stack w-100"},Ye={key:0,class:"text-center justify-center align-center d-flex"},Ze=["onMousedown","onTouchstart"],et=X({__name:"SwiperStack",emits:["swipe"],setup(t,{emit:C}){const d=te(),l=ce(),c=ue(),v=x(d.users),p=x(!1),V=x([...v.value.filter(r=>{var s;return r.id!==((s=l==null?void 0:l.user)==null?void 0:s.id)})]),k=x(!1),o=x(!1);let i=0,g=0,f=!1,n=x();const h=x(),O=x(),q=()=>{p.value=!p.value};function B(r,s){s===0&&(n.value=document.querySelector("#innerCardRef"),f=!0,i=r.type.includes("touch")?r.touches[0].clientX:r.clientX,g=i,document.addEventListener("mousemove",w),document.addEventListener("touchmove",w),document.addEventListener("mouseup",S),document.addEventListener("touchend",S))}function w(r){if(!f)return;g=r.type.includes("touch")?r.touches[0].clientX:r.clientX;const s=g-i;n.value.style.transform=`translateX(${s}px) rotate(${s/10}deg)`,n.value.style.opacity=1-Math.abs(s)/300}function S(){if(!f)return;f=!1;const r=g-i;if(Math.abs(r)>20&&g!=i)if(Math.abs(r)>100){const s=r>0?"R":"L";p.value=!1;const b=V.value[0];O.value={direction:s,card:b},s=="R"?l.addLikedUser(b.id):l.rmvLikedUser(b.id),n.value.style.transition="transform 0.3s, opacity 0.3s",n.value.style.transform=`translateX(${r>0?500:-500}px)`,n.value.style.opacity=0,setTimeout(()=>{V.value.shift(),p.value=!1,s=="R"&&z(b)},200)}else n.value.style.transition="transform 0.3s, opacity 0.3s",n.value.style.transform="translateX(0)",n.value.style.opacity=1;else n.value.style.transition="transform 0.3s, opacity 0.3s",n.value.style.transform="translateX(0)",n.value.style.opacity=1;document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w),document.removeEventListener("mouseup",S),document.removeEventListener("touchend",S)}function Q(){V.value=[...v.value.filter(r=>{var s;return r.id!==((s=l==null?void 0:l.user)==null?void 0:s.id)})]}const z=r=>{h.value=r,c.createChat(r),k.value=!0},W=()=>{o.value=!0},H=()=>{o.value=!1},J=()=>{k.value=!1,h.value=null};return(r,s)=>{const b=Ee,D=Ae,E=Je;return u(),I(A,null,[e(F,{onClick:W,variant:"text",class:"filters-btn",icon:""},{default:a(()=>[e(G,{color:"#fff"},{default:a(()=>s[5]||(s[5]=[L("mdi-tune-variant")])),_:1})]),_:1}),y("div",Ke,[e(ie,{modelValue:_(k),"onUpdate:modelValue":s[0]||(s[0]=m=>U(k)?k.value=m:null),fullscreen:"",persistent:""},{default:a(()=>[_(k)?(u(),j(b,{key:0,"match-info":_(h),onClose:J},null,8,["match-info"])):R("",!0)]),_:1},8,["modelValue"]),e(ie,{modelValue:_(o),"onUpdate:modelValue":s[2]||(s[2]=m=>U(o)?o.value=m:null),persistent:"","content-class":"d-flex justify-center align-center"},{default:a(()=>[e(D,{onSave:s[1]||(s[1]=()=>{}),onClose:H})]),_:1},8,["modelValue"]),e(fe,{"hide-on-leave":""},{default:a(()=>[_(V).length?R("",!0):(u(),I("div",Ye,[e(F,{class:"ma-2",size:"120",variant:"tonal",icon:"",color:"purple-darken-4",onClick:s[3]||(s[3]=m=>Q())},{default:a(()=>s[6]||(s[6]=[L("Resetar "),y("br",null,null,-1),L("Stack")])),_:1})]))]),_:1}),(u(!0),I(A,null,de(_(V),(m,M)=>(u(),I("div",{class:xe(["card",{"card-active":M===0}]),key:m.id,onMousedown:T=>B(T,M),onTouchstart:T=>B(T,M)},[e(Pe,null,{default:a(()=>[M===0?(u(),j(E,{key:0,id:"innerCardRef",onClick:s[4]||(s[4]=T=>q()),card:m,"show-bio":_(p)},null,8,["card","show-bio"])):R("",!0)]),_:2},1024)],42,Ze))),128))])],64)}}}),tt=ee(et,[["__scopeId","data-v-d363f6ec"]]),gt=X({__name:"home",setup(t){return(C,d)=>{const l=tt;return u(),j(me,{fluid:"",class:"fill-height"},{default:a(()=>[e($,{align:"center",justify:"center",class:"fill-height"},{default:a(()=>[e(P,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3",class:"fill-height justify-center align-center d-flex"},{default:a(()=>[e(l)]),_:1})]),_:1})]),_:1})}}});export{gt as default};
