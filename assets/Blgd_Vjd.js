import{d as C,H as S,M,I as N,u as L,r as b,j as B,K as c,A as n,v as o,t as l,L as _,O as $,P as z,z as u,x as d,N as A,y as g,_ as j}from"./D_QAHc3E.js";import{V as P,a as w}from"./B7-YwcJB.js";import{V as D,a as E}from"./Bbnitr0W.js";import{V as F}from"./4hN9MWv1.js";import{V as H}from"./DD40gWNe.js";import"./7tPTPzUM.js";import"./7HVeK3Oc.js";import"./B_er0HLw.js";import"./DwH9D4CK.js";const K={key:0,class:"no-matches"},O={class:"match-name"},R={key:0},T={class:"match-last-msg"},U=C({__name:"index",setup(q){const r=S(),V=M(),v=N(),x=L(),k=b(v.chats),p=B(()=>{var e;const s=(e=r.user)==null?void 0:e.id;return k.value.filter(t=>t.participants.includes(s||0))});function m(s){var a;const e=(a=r.user)==null?void 0:a.id,t=s.participants.find(i=>i!==e);return V.users.find(i=>i.id===t)}function I(s){const e=m(s);return(e==null?void 0:e.profileImage)||""}function f(s){const e=m(s);return(e==null?void 0:e.name)||"Usuário"}const h=s=>{var a;let e=s.messages[s.messages.length-1],t=e?e.sender===((a=r.user)==null?void 0:a.id)?`Você: ${e.text}`:e.text:"";return t=t.length>30?`${t.substring(0,30)}...`:t,t};function y(s){x.push(`/messages/${s.id}`)}return(s,e)=>(o(),c(P,{fluid:"",class:"d-flex flex-column align-center pt-4 justify-center pb-14 fill-height"},{default:n(()=>[_(p).length===0?(o(),l("div",K," Nenhum feat encontrado ainda :( ")):(o(),c(D,{key:1,class:"matches-list pa-4"},{default:n(()=>[(o(!0),l($,null,z(_(p),t=>(o(),c(E,{key:t.id,onClick:a=>y(t),class:"match-item py-4 mb-4",rounded:"pill",elevation:"5"},{prepend:n(()=>[u(w,{size:"56",class:"match-avatar"},{default:n(()=>[u(H,{contain:"",src:I(t),alt:f(t)},null,8,["src","alt"])]),_:2},1024)]),title:n(()=>[d("div",null,[d("span",O,g(f(t)),1)]),h(t)!==""?(o(),l("div",R,[d("span",T,g(h(t)),1)])):A("",!0)]),append:n(()=>[u(F,{size:"30",color:"purple",icon:"mdi-chevron-right"})]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1}))}}),se=j(U,[["__scopeId","data-v-ab31d436"]]);export{se as default};
